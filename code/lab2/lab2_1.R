library(xlsx)
# ?????????????????? ??????????????, ?????????????????? StartRow ?? EndRow, ?????????? ???????????????????? ???? ???????????? ???????????????????? ?? ???????????? ?? ?????????????????? ???????????????????? ?? ?????????? ??????????????????
df <- read.xlsx(file="D:GIT/studyR/data/air_flows.xlsx", 1, startRow = 6, endRow = 186)
# ?????????????????? ?????????????? ??????????, ?????????? ?????????????????? ???????????????? ???????????????? ?????? ?????????? - ?????? ???????????? ?????????????? ?????? ?????????????????? ?????? "X2000", "X2005", "X2006"
colnames(df) <- c("??????????1", "??????????2", "2000", "2005", "2006")
# ??????????????, ?????????????? ?????????????? ?????????????????????? ????????????, ?? ?????????????? ?????????? - ?????? ???????????????? ??????????????, ???????????????? - ?????????? ???????????????????? ???????????????????? ?????????????????? ?? ????????????
num_of_passengers <- function(DF) {
  # ???????????? ?? ?????????????????????? ???????????????????? ?????????????? ???? ??????????????
  cities <- unique(DF[, "??????????2"])
  
  # ??????????????, ?????????????????? ???????????????????? ???????????????????? ?????????????????? ?? ???????? ?????????? ???? 2000, 2005 ?? 2006 ????????
  get_sum_of_passengers <- function(city) {
    sum(df[df$??????????2 == city, c("2000", "2005", "2006")])
  }
  
  # ?? ?????????????? lapply ?????????????????? ?????????????? ???????? ???? ?????? ????????????
  res_list <- lapply(as.list(cities), get_sum_of_passengers)
  # ?????????????????????? ???????????????? ?????????????? ?? ?????????? ????????????
  names(res_list) <- cities
  return(res_list)
}
# ??????????????, ?????????????? ???? ???????????????? ???????????? ?????????????? ???????????? ?????? ??????????????, ?? ?????????????? ???????????????????????????? ?????????????????? ???? ?????????? ????????????.
available_flights <- function(city) {
  # ???????????????? ?????????????????????? ???????????????? ?? ???????????????????????? ?? ???????? ????????????
  cities_list <- as.list(df[df$??????????1 == city, "??????????2"])
  print(cities_list)
}